---
title: hexo端口4000被占用
tags:
  - fail
  - 博客
categories:
  - 计算机科学
  - fail
abbrlink: 6ee1ace5
date: 2022-05-13 00:43:07
---

## 发现问题

```bash
>>> hexo s
FATAL Port 4000 has been used. Try other port instead.
FATAL {
  err: Error: listen EADDRINUSE: address already in use :::4000
      at Server.setupListenHandle [as _listen2] (net.js:1331:16)
      at listenInCluster (net.js:1379:12)
      at Server.listen (net.js:1465:7)
      at E:\Blog\node_modules\hexo-server\lib\server.js:68:12
      at Promise._execute (E:\Blog\node_modules\bluebird\js\release\debuggability.js:384:9)
      at Promise._resolveFromExecutor (E:\Blog\node_modules\bluebird\js\release\promise.js:518:18)
      at new Promise (E:\Blog\node_modules\bluebird\js\release\promise.js:103:10)
      at checkPort (E:\Blog\node_modules\hexo-server\lib\server.js:65:10)
      at Hexo.module.exports (E:\Blog\node_modules\hexo-server\lib\server.js:17:10)
      at Hexo.tryCatcher (E:\Blog\node_modules\bluebird\js\release\util.js:16:23)
      at Hexo.<anonymous> (E:\Blog\node_modules\bluebird\js\release\method.js:15:34)
      at Hexo.call (E:\Blog\node_modules\hexo\lib\hexo\index.js:258:27)
      at E:\studyAPP\node_js\node_global\node_modules\hexo-cli\lib\hexo.js:60:17
      at tryCatcher (E:\studyAPP\node_js\node_global\node_modules\hexo-cli\node_modules\bluebird\js\release\util.js:16:23)
      at Promise._settlePromiseFromHandler (E:\studyAPP\node_js\node_global\node_modules\hexo-cli\node_modules\bluebird\js\release\promise.js:547:31)
      at Promise._settlePromise (E:\studyAPP\node_js\node_global\node_modules\hexo-cli\node_modules\bluebird\js\release\promise.js:604:18)
      at Promise._settlePromise0 (E:\studyAPP\node_js\node_global\node_modules\hexo-cli\node_modules\bluebird\js\release\promise.js:649:10)
      at Promise._settlePromises (E:\studyAPP\node_js\node_global\node_modules\hexo-cli\node_modules\bluebird\js\release\promise.js:729:18)
      at _drainQueueStep (E:\studyAPP\node_js\node_global\node_modules\hexo-cli\node_modules\bluebird\js\release\async.js:93:12)
      at _drainQueue (E:\studyAPP\node_js\node_global\node_modules\hexo-cli\node_modules\bluebird\js\release\async.js:86:9)
      at Async._drainQueues (E:\studyAPP\node_js\node_global\node_modules\hexo-cli\node_modules\bluebird\js\release\async.js:102:5)
      at Immediate.Async.drainQueues (E:\studyAPP\node_js\node_global\node_modules\hexo-cli\node_modules\bluebird\js\release\async.js:15:14) {
    code: 'EADDRINUSE',
    errno: -4091,
    syscall: 'listen',
    address: '::',
    port: 4000
  }
} Something's wrong. Maybe you can find the solution here: %s https://hexo.io/docs/troubleshooting.html

```

![](https://cdn.jsdelivr.net/gh/0000rookie/imgs/2022050306.jpeg)

## 分析问题

提示`4000``端口已被占用。尝试其他端口。

有两个方法：

1. 换端口
2. 杀掉占用的端口，重新启用`4000`端口

## 解决问题

### 方法一

杀掉`4000`被占用的端口，让`hexo`运行`4000`端口

```bash
# 查看4000端口是什么程序占用
>>> netstat -ano | findstr "4000" 
# 杀掉4000端口正在运行的程序
>>> taskkill -PID 15868 -F				
```

![](https://cdn.jsdelivr.net/gh/0000rookie/imgs/2022050215.jpeg)

### 方法二

在`_config.yml`修改hexo默认端口，在`hexo s `的时候就不是`4000`端口了

```yaml
server:
  port: 4001
  compress: true
  header: true
```

### 方法三

指定端口运行，这里指定5000端口运行

```bash
>>> hexo server -p 5000
```

